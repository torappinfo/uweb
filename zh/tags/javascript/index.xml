<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Javascript on 超微浏览器: 威、快、高效、极致优化</title>
    <link>https://jamesfengcao.gitlab.io/uweb/zh/tags/javascript/</link>
    <description>Recent content in Javascript on 超微浏览器: 威、快、高效、极致优化</description>
    <generator>Hugo</generator>
    <language>zh</language>
    <lastBuildDate>Wed, 09 Apr 2025 00:35:04 +0800</lastBuildDate>
    <atom:link href="https://jamesfengcao.gitlab.io/uweb/zh/tags/javascript/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>长按链接弹出菜单及下载弹出菜单</title>
      <link>https://jamesfengcao.gitlab.io/uweb/zh/longclick/</link>
      <pubDate>Sat, 01 Mar 2025 00:00:00 +0000</pubDate>
      <guid>https://jamesfengcao.gitlab.io/uweb/zh/longclick/</guid>
      <description>&lt;h4 id=&#34;命令子菜单&#34;&gt;“命令”子菜单&lt;/h4&gt;&#xA;&lt;p&gt;文件&amp;quot;&lt;a href=&#34;../links/index.html#&#34;&gt;image.link&lt;/a&gt;&amp;quot;：图像的“命令”子菜单&lt;br&gt;&#xA;文件&amp;quot;&lt;a href=&#34;../links/index.html#&#34;&gt;download.link&lt;/a&gt;&amp;quot;：下载“命令”子菜单&lt;/p&gt;&#xA;&lt;p&gt;“命令”子菜单可通过&lt;a href=&#34;i:61:../searchurl/func.html&#34;&gt;界面设置&lt;/a&gt;切换为系统菜单，分别可为默认（常用服务或image.link或download.link）,常用链接，常用命令。如果同时勾选常用链接及常用命令，则“命令”子菜单无视image.link及download.link, 一律弹出系统常用服务菜单。&lt;/p&gt;&#xA;&lt;h4 id=&#34;长按链接运行第三方程序&#34;&gt;长按链接运行第三方程序&lt;/h4&gt;&#xA;&lt;p&gt;配置文件&lt;a href=&#34;file:///data/data/info.torapp.uweb/files/default.longclick&#34;&gt;default.longclick&lt;/a&gt;每行格式如下（同&lt;a href=&#34;../cmds/index.html#&#34;&gt;default.cmds&lt;/a&gt;）&lt;br&gt;&#xA;菜单名:mimetype:命令路径&lt;br&gt;&#xA;命令可以包含&lt;a href=&#34;../cmds/index.html#&#34;&gt;%c&lt;/a&gt;（当前网址cookie）等，执行时会被相应内容自动替换。&lt;/p&gt;&#xA;&lt;h4 id=&#34;长按链接运行js文件&#34;&gt;长按链接运行js文件&lt;/h4&gt;&#xA;&lt;p&gt;长按链接弹出菜单显示&lt;a href=&#34;file:///data/data/info.torapp.uweb/files/longclick/&#34;&gt;longclick&lt;/a&gt;目录下所有js文件供用户挑选执行。&lt;br&gt;&#xA;js文件格式如下：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;首行可以&amp;quot;//&amp;quot;开头，后面紧跟目标网页url，url中可包含&lt;a href=&#34;../cmds/index.html#&#34;&gt;&amp;quot;%u&amp;quot;等&lt;/a&gt;，打开网页时会用长按的链接替换。&lt;/li&gt;&#xA;&lt;li&gt;首行非&amp;quot;//&amp;quot;开头者，整个脚本作用于当前网页，不再打开新网页。&lt;/li&gt;&#xA;&lt;li&gt;第二行开始为javascript代码，代码中可用arguments来获取參数。其中arguments[1]为长按的链接; arguments[2]为长按链接的文字描述; arguments[0]为js文件名。&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>特定网址脚本、样式、额外html及预处理</title>
      <link>https://jamesfengcao.gitlab.io/uweb/zh/sitejs/</link>
      <pubDate>Sat, 28 Jan 2023 00:00:00 +0000</pubDate>
      <guid>https://jamesfengcao.gitlab.io/uweb/zh/sitejs/</guid>
      <description>&lt;p&gt;技巧等级：中级&lt;/p&gt;&#xA;&lt;h3 id=&#34;脚本-第一时间装载js脚本见下面sitecss条目&#34;&gt;脚本 (第一时间装载js脚本见下面sitecss条目)&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;脚本需命名为 &amp;quot;[根域名].js&amp;quot;，譬如baidu.com.js 或tieba.baidu.com.js 。此脚本将自动作用于所有相同根域名的网址上。如有多个脚本满足条件，以最长文件名为准。&lt;/li&gt;&#xA;&lt;li&gt;这些脚本需放到/data/data/info.torapp.uweb/files/sitejs目录下，数量没有限制，上百万都不成问题。&lt;/li&gt;&#xA;&lt;li&gt;长按窗口按钮，勾选“执行网址用户脚本”。&lt;/li&gt;&#xA;&lt;li&gt;脚本执行对浏览器无性能影响，即使有百万脚本存在。&lt;/li&gt;&#xA;&lt;li&gt;目前支持两段、三段及少数四段域名（最后两段不超过6字如com.cn的域名可取四段）。所以脚本请不要以很长的域名来命名。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;样式及第一时间装载js脚本&#34;&gt;样式及第一时间装载js脚本&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;与此类似，用户样式需命名为 &amp;quot;[根域名].css&amp;quot;，譬如baidu.com.css 或tieba.baidu.com.css。&lt;/li&gt;&#xA;&lt;li&gt;样式文件需放到sitecss目录下。&lt;/li&gt;&#xA;&lt;li&gt;sitecss目录下&amp;quot;[根域名].js&amp;quot;文件会在第一时间装载。&lt;/li&gt;&#xA;&lt;li&gt;长按窗口按钮，勾选“使用网址用户样式”。&lt;/li&gt;&#xA;&lt;li&gt;如果文件“default.css”存在，访问网址时如果没有与域名匹配的css文件，则使用此默认样式文件。&lt;/li&gt;&#xA;&lt;li&gt;default.css可作为夜间模式来使用，此时default.css为夜间模式css，而黑色主题类网址对应的域名为空文件。此种设定情况下仅白色主题网页会使用夜间模式css。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;额外html及预处理&#34;&gt;额外html及预处理&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;需命名为 &amp;quot;[域名].html&amp;quot;，譬如baidu.com.html。注意此处与sitejs, sitecss不同，不再是&amp;quot;[根域名]&amp;quot;。&lt;/li&gt;&#xA;&lt;li&gt;文件需放到siteextra目录下。&lt;/li&gt;&#xA;&lt;li&gt;长按窗口按钮，勾选“网址附加内容”。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;额外html可以以&amp;quot;&amp;lt;textarea&amp;gt;&amp;quot;或&amp;quot;&amp;lt;div&amp;gt;&amp;lt;textarea&amp;gt;&amp;quot;等结尾，此时超微算法自动判定用户欲对网址html源代码进行处理，并将网址html源码附加在用户html后面，从而成为textarea元素的内容，供用户进行预处理。&lt;/p&gt;&#xA;&lt;p&gt;文件&amp;quot;sitejs/.js&amp;quot;,&amp;quot;sitecss/.css&amp;quot;,&amp;quot;sitecss/.js&amp;quot;和&amp;quot;siteextra/.html&amp;quot;可作用于一切非http url（本地文件，浏览器界面等）。&lt;/p&gt;</description>
    </item>
    <item>
      <title>小书签</title>
      <link>https://jamesfengcao.gitlab.io/uweb/zh/bookmarklet/</link>
      <pubDate>Fri, 24 Jun 2022 00:00:00 +0000</pubDate>
      <guid>https://jamesfengcao.gitlab.io/uweb/zh/bookmarklet/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;../index.html#&#34;&gt;超微浏览器&lt;/a&gt;支持直接运行远程网址上的小书签(Bookmarklet)，将本页面或其它包含小书签网址加入书签。使用时只需长按小书签链接，点击“新窗口打开”，小书签将作用于超微浏览器最后一个窗口（非小书签窗口）页面上。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;javascript:{let es=document.getElementsByTagName(&#39;script&#39;);let urls=&#39;&#39;;for(let i=0;i&lt;es.length;i++){if(es[i].src)urls+=es[i].src+&#39;&lt;br&gt;&#39;;}let w=window.open(&#39;&#39;),s=w.document;s.write(urls);s.close();w.location.href=&#39;i:631:&#39;;}&#34;&gt;列出外部脚本&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a target=&#34;_self&#34; href=&#34;javascript:alert(navigator.userAgent)&#34;&gt;查看浏览器UA&lt;/a&gt;&lt;br&gt;&#xA;&lt;a href=&#34;javascript:(function(){var w=window.open(&#39;&#39;),s=w.document;s.write(&#39;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&#39;);s.close();var pre=s.body.appendChild(s.createElement(&#39;pre&#39;));pre.style.overflow=&#39;auto&#39;;pre.style.whiteSpace=&#39;pre-wrap&#39;;pre.appendChild(s.createTextNode(document.cookie))})()&#34;&gt;网页cookie&lt;/a&gt;&lt;br&gt;&#xA;&lt;a href=&#34;javascript:(function(){var w=window.open(&#39;&#39;),s=w.document;s.write(&#39;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&#39;);s.close();var pre=s.body.appendChild(s.createElement(&#39;pre&#39;));pre.style.overflow=&#39;auto&#39;;pre.style.whiteSpace=&#39;pre-wrap&#39;;pre.appendChild(s.createTextNode(document.documentElement.innerHTML))})()&#34;&gt;网页源码&lt;/a&gt;&lt;br&gt;&#xA;&lt;a href=&#34;javascript:function%20gett(w){try{var%20lm=new%20Date(w.document.lastModified);if(lm&gt;maxd)maxd=lm;for(var%20i=0;F=w.frames[i];i++){gett(F);}}catch(e){}}var%20now=new%20Date();var%20maxd=new%20Date(document.lastModified);gett(window);if(maxd.getTime()==0||now.toUTCString()==maxd.toUTCString()){alert(&#39;Page%20is%20dynamically%20generated,%20cannot%20determine%20date.&#39;);}else{alert(&#39;Page%20was%20last%20modified%20&#39;+maxd.toLocaleString());}&#34; class=&#34;bookmarklet&#34; rel=&#34;nofollow&#34;&gt;显示网页最后更改时间&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;javascript:(function(){var script=document.createElement(&#39;script&#39;);script.src=&#39;//fastly.jsdelivr.net/npm/eruda&#39;;document.body.appendChild(script);script.onload=function(){eruda.init()}})()&#34;&gt;Eruda: mobile console&lt;/a&gt;&lt;br&gt;&#xA;&lt;a href=&#34;javascript:window.open(&#39;https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=&#39;%20+%20decodeURIComponent(location.href));void(0);&#34;&gt;生成二维码&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;javascript:(function(){var x,i; x = document.forms; for (i = 0; i &amp;lt; x.length; ++i) x[i].method=&amp;quot;get&amp;quot;; alert(&amp;quot;Changed &amp;quot; + x.length + &amp;quot; forms to use the GET method.  After submitting a form from this page, you should be able to bookmark the result.&amp;quot;); })();&#34;&gt;POST转GET&lt;/a&gt;&lt;br&gt;&#xA;&lt;a href=&#34;javascript:(function(){var i,f,j,e,div,label,ne; for(i=0;f=document.forms[i];++i)for(j=0;e=f[j];++j)if(e.type==&amp;quot;hidden&amp;quot;){ D=document; function C(t){return D.createElement(t);} function A(a,b){a.appendChild(b);} div=C(&amp;quot;div&amp;quot;); label=C(&amp;quot;label&amp;quot;); A(div, label); A(label, D.createTextNode(e.name + &amp;quot;: &amp;quot;)); e.parentNode.insertBefore(div, e); e.parentNode.removeChild(e); ne=C(&amp;quot;input&amp;quot;);/*for ie*/ ne.type=&amp;quot;text&amp;quot;; ne.value=e.value; A(label, ne); --j;}})()&#34;&gt;Shows all form elements&lt;/a&gt;&lt;br&gt;&#xA;&lt;a href=&#34;javascript:(function(){var x,k,f,j;x=document.forms;for (k=0;k&amp;lt;x.length;++k){f=x[k];for(j=0;j&amp;lt;f.length;++j){f[j].disabled=false; f[j].readOnly=false;}}})()&#34;&gt;Enables all form elements&lt;/a&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
